{"version":3,"sources":["webpack:///src/app/tab2/tab2.page.html","webpack:///src/app/tab2/tab2-routing.module.ts","webpack:///src/app/tab2/tab2.module.ts","webpack:///src/app/tab2/tab2.page.scss","webpack:///src/app/tab2/tab2.page.ts"],"names":["routes","path","component","Tab2PageRoutingModule","imports","forChild","exports","Tab2PageModule","declarations","Tab2Page","cameraPreview","platform","storage","uploadingService","http","apiDjangoService","base64ToGallery","file","ngZone","loadingController","screenshot","photoViewer","toastController","fileUploader","hasBaseDropZoneOver","fileToUpload","colorEffect","setZoom","flashMode","focusMode","shot","active","activescreenshot","startAR","img_color","img_photometric","img_border1","ipAddress","online","clearAll","takePicture","console","log","startCameraAbove","stopCamera","ready","startCamera","x","y","width","height","toBack","camera","previewDrag","tapPhoto","error","base64option","prefix","mediaScanner","quality","then","imageData","b64data","atob","IMAGE_PATH","addImage","btoa","res","err","show","hide","setColorEffect","setFlashMode","setFocusMode","event","queue","map","fileItem","b64toBlob","b64Data","contentType","sliceSize","byteCharacters","byteArrays","offset","length","slice","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","push","blob","Blob","type","uploadImage","putWait","requests","fileName","formData","FormData","append","uploadFormData","subscribe","isNevus","items","getBorder","getError","reset","reshot","getAsymmetry","asymmetry","Math","random","info","symmetricInfo","classified","getColor","getCentroid","getDiameter","presentLoading","result","color","centroid","diameter","changePlaying","code","create","cssClass","message","duration","loading","present","onDidDismiss","role","data","run","resume","location","reload","clearPic","save","alert","selector","template"],"mappings":"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","file":"tab2-tab2-module-es5.js","sourcesContent":["export default \"  <ion-header >\\n    <ion-segment *ngIf=\\\"shot==false\\\" placeholder=\\\"Select Flash\\\" [(ngModel)]=\\\"flashMode\\\"\\n    (ionChange)=\\\"changeFlashMode()\\\">\\n    <ion-segment-button value=\\\"off\\\">\\n      <ion-icon color=\\\"danger\\\" name=\\\"flash-off\\\"></ion-icon>\\n      <ion-label color=\\\"danger\\\" >Off</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"torch\\\">\\n      <ion-icon color=\\\"secondary\\\" name=\\\"flash\\\"></ion-icon>\\n      <ion-label color=\\\"secondary\\\">On</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n\\n  <img *ngIf=\\\"shot==true\\\" [src]=\\\"this.img_color\\\">\\n\\n    <ion-range *ngIf=\\\"shot==true\\\" min=\\\"0\\\" max=\\\"10\\\" step=\\\"1\\\" [value]=\\\"color\\\" snaps color=\\\"secondary\\\">\\n      <ion-text slot=\\\"start\\\" size=\\\"small\\\" color=\\\"primary\\\">{{this.color}}</ion-text>\\n      <ion-text slot=\\\"end\\\" color=\\\"secondary\\\">10</ion-text>\\n    </ion-range>\\n\\n\\n      <!--\\n      <ion-segment placeholder=\\\"Select Focus\\\" [(ngModel)]=\\\"focusMode\\\"\\n      (ionChange)=\\\"changeFocusMode()\\\">\\n        <ion-segment-button value=\\\"auto\\\">\\n          <ion-icon name=\\\"disc\\\"></ion-icon>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"fixed\\\">\\n          <ion-icon name=\\\"aperture\\\"></ion-icon>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"infinity\\\">\\n          <ion-icon name=\\\"infinite\\\"></ion-icon>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"macro\\\">\\n          <ion-icon name=\\\"search\\\"></ion-icon>\\n        </ion-segment-button>\\n      </ion-segment>\\n    -->\\n\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n    <!--\\n  <ion-row *ngIf=\\\"activescreenshot==true\\\">\\n    <ion-col>\\n      <img [src]=\\\"IMAGE_PATH\\\">\\n    </ion-col>\\n  </ion-row>\\n    -->\\n\\n  <ion-fab *ngIf=\\\"shot==true\\\" horizontal=\\\"end\\\" vertical=\\\"top\\\" slot=\\\"fixed\\\" >\\n    <ion-fab-button>{{this.classified}} %</ion-fab-button>\\n  </ion-fab>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row class=\\\"ion-align-items-end\\\">\\n      <ion-col class=\\\"ion-align-self-end\\\">\\n        Diametro\\n        <ion-range *ngIf=\\\"shot==true\\\" min=\\\"0\\\" max=\\\"40\\\" step=\\\"5\\\" [value]=\\\"diameter\\\" snaps color=\\\"danger\\\">\\n        <ion-text slot=\\\"start\\\" size=\\\"small\\\" color=\\\"danger\\\">{{this.diameter}} mm</ion-text>\\n        <ion-text slot=\\\"end\\\" color=\\\"secondary\\\">40 mm</ion-text>\\n      </ion-range> \\n      </ion-col>\\n      <ion-col>\\n\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n        Centroide\\n        <ion-range *ngIf=\\\"shot==true\\\" min=\\\"0\\\" max=\\\"2\\\" step=\\\"1\\\" [value]=\\\"centroid\\\" snaps color=\\\"danger\\\">\\n        <ion-icon slot=\\\"start\\\" color=\\\"danger\\\" name=\\\"arrow-back-circle\\\"> </ion-icon>\\n        <ion-icon slot=\\\"end\\\" color=\\\"danger\\\" name=\\\"arrow-forward-circle\\\"> </ion-icon>\\n      </ion-range> \\n      </ion-col>\\n      <ion-col>\\n        {{this.symmetricInfo}}\\n          <ion-range *ngIf=\\\"shot==true\\\" min=\\\"0\\\" max=\\\"15\\\" step=\\\"1\\\" [value]=\\\"asymmetry\\\" snaps color=\\\"danger\\\">\\n          <ion-text slot=\\\"start\\\" size=\\\"small\\\" color=\\\"primary\\\">Asim</ion-text>\\n          <ion-text slot=\\\"end\\\" color=\\\"secondary\\\">Sim</ion-text>\\n        </ion-range>\\n      </ion-col>\\n\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col >\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n        <img (click)=\\\"openImage(this.ipAddress + '/media/photometric.png')\\\"  [src]=\\\"this.img_photometric\\\">\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col >\\n        <!--<div>elemento</div>-->\\n\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n        \\n      </ion-col>\\n      <ion-col>\\n        <img (click)=\\\"openImage(this.ipAddress + '/media/border1.png')\\\" [src]=\\\"this.img_border1\\\">\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-avatar  vertical=\\\"center\\\" horizontal=\\\"center\\\">\\n    <img src=\\\"assets/circle.png\\\">\\n  </ion-avatar>\\n\\n</ion-content>\\n<ion-footer>\\n  <ion-range  min=\\\"1\\\" max=\\\"25\\\" pin color=\\\"primary\\\" [(ngModel)]=\\\"setZoom\\\" (ionChange)=\\\"changeZoom()\\\">\\n    <ion-icon color=\\\"primary\\\" slot=\\\"start\\\" size=\\\"small\\\" name=\\\"search-outline\\\"></ion-icon>\\n    <ion-icon slot=\\\"end\\\" name=\\\"search-outline\\\"></ion-icon>\\n  </ion-range>\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n        <ion-button *ngIf=\\\"startAR==true\\\" expand=\\\"block\\\" color=\\\"primary\\\"(click)=\\\"saveScreenshot()\\\">\\n          <ion-icon  size=\\\"big\\\" name=\\\"save-outline\\\"></ion-icon>\\n        </ion-button>    \\n        <ion-button *ngIf=\\\"startAR==false\\\" expand=\\\"block\\\" color=\\\"primary\\\"(click)=\\\"getInfo()\\\">\\n          <ion-icon  size=\\\"big\\\" name=\\\"information-circle-outline\\\" ></ion-icon>\\n        </ion-button>     \\n      </ion-col>\\n      <ion-col>\\n        <ion-button *ngIf=\\\"startAR==true\\\" expand=\\\"block\\\" color=\\\"danger\\\">\\n          <ion-icon  size=\\\"big\\\" name=\\\"close-circle\\\"></ion-icon>\\n        </ion-button> \\n        <ion-button *ngIf=\\\"startAR==false\\\" expand=\\\"block\\\" color=\\\"success\\\" (click)=\\\"takePicture()\\\">\\n          <ion-icon  size=\\\"big\\\" name=\\\"camera-outline\\\"></ion-icon>\\n        </ion-button>            \\n      </ion-col>\\n    \\n    </ion-row>\\n  </ion-grid>\\n</ion-footer>\\n\\n\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\nimport { FileUploadModule } from 'ng2-file-upload';\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule,\n    FileUploadModule,\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","export default \"ion-content {\\n  --background: transparent;\\n}\\n\\nion-avatar {\\n  width: 170px !important;\\n  height: 170px !important;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n\\nion-col > div {\\n  background-color: #f7f7f7;\\n  border: solid 1px #ddd;\\n  padding: 10px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3VzZXJ0aGluay9TY3JpdmFuaWEvVGhlc2lzL0lvbmljL05hZXZ1cyBCRVRBL3NyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUFhO0FDQ2pCOztBREVFO0VBQ0UsdUJBQXVCO0VBQ3ZCLHdCQUF3QjtFQUN4QixrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLFNBQVM7RUFDVCxnQ0FBZ0M7QUNDcEM7O0FERUU7RUFDRSx5QkFBeUI7RUFDekIsc0JBQXNCO0VBQ3RCLGFBQWE7QUNDakIiLCJmaWxlIjoic3JjL2FwcC90YWIyL3RhYjIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICAgIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIH1cbiAgXG4gIGlvbi1hdmF0YXIge1xuICAgIHdpZHRoOiAxNzBweCAhaW1wb3J0YW50O1xuICAgIGhlaWdodDogMTcwcHggIWltcG9ydGFudDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiA1MCU7XG4gICAgbGVmdDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICB9XG5cbiAgaW9uLWNvbCA+IGRpdiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmNztcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjZGRkO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gIH1cblxuXG4iLCJpb24tY29udGVudCB7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG5cbmlvbi1hdmF0YXIge1xuICB3aWR0aDogMTcwcHggIWltcG9ydGFudDtcbiAgaGVpZ2h0OiAxNzBweCAhaW1wb3J0YW50O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNTAlO1xuICBsZWZ0OiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xufVxuXG5pb24tY29sID4gZGl2IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmNztcbiAgYm9yZGVyOiBzb2xpZCAxcHggI2RkZDtcbiAgcGFkZGluZzogMTBweDtcbn1cbiJdfQ== */\";","import { Component, OnInit, NgZone, destroyPlatform } from '@angular/core';\nimport { CameraPreview } from \"@ionic-native/camera-preview/ngx\";\nimport { Platform } from \"@ionic/angular\";\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n//Upload and Analysis import\nimport { UploadingService } from '../uploading.service';\nimport { ApiDjangoService } from '../api-django.service';\nimport { FileUploader, FileLikeObject } from 'ng2-file-upload';\nimport { concat } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { File } from '@ionic-native/file/ngx';\nimport { Base64ToGallery, Base64ToGalleryOptions } from '@ionic-native/base64-to-gallery/ngx';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\nimport { Screenshot } from '@ionic-native/screenshot/ngx';\nimport { ToastController } from '@ionic/angular';\nimport { delay } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n  //UPLOAD CODE  \n  public fileUploader: FileUploader = new FileUploader({});\n  public hasBaseDropZoneOver: boolean = false;\n  fileToUpload: File = null;\n  blob: any;\n\n\n  IMAGE_PATH: any;\n  colorEffect = 'none';\n  smallPreview: boolean;\n  setZoom = 1;\n  flashMode = 'off';\n  focusMode = 'auto';\n  tapFocus: true;\n\n  shot = false;\n  active = false;\n  activescreenshot = false;\n  startAR = false;\n\n  //Nevus Information\n  //circle = 1;\n  asymmetry: string;\n  border: string;\n  color: number;\n  centroid: string;\n  diameter: string;\n  classified: string;\n  img_color = 'assets/colorful.gif';\n  img_photometric = 'assets/color.gif';\n  img_border1 = 'assets/loading.gif';\n  symmetricInfo: string;\n\n  ipAddress = \"http://192.168.1.13:8000\"\n  online = true;\n\n\n  constructor(private cameraPreview: CameraPreview,\n    private platform: Platform, private storage: NativeStorage,\n    private uploadingService: UploadingService, private http: HttpClient,\n    private apiDjangoService: ApiDjangoService,\n    private base64ToGallery: Base64ToGallery,\n     private file: File, private ngZone: NgZone,\n     public loadingController: LoadingController,\n    private screenshot : Screenshot,\n    private photoViewer : PhotoViewer,\n    private toastController: ToastController\n) {\n  this.clearAll();\n  this.takePicture();\n  }\n\n  async ionViewWillEnter() {\n    console.log(\"WILL ENTER: \");\n\n    await this.startCameraAbove();\n  }\n\n  async ionViewWillLeave() {\n    console.log(\"WILL LEAVE\");\n\n    await this.stopCamera();\n  }\n\n  async startCameraAbove() {\n    try {\n\n      await this.platform.ready();\n      await this.cameraPreview.startCamera({\n        x: 0,\n        y: 0,\n        width: this.platform.width(),\n        height: this.platform.height(),\n        toBack: true,\n        camera: \"rear\",\n        previewDrag: false,\n        tapPhoto: true\n      });\n    } catch (err) {\n      console.error(\"startCameraAbove\", err);\n    } finally {\n    }\n  }\n\n  async stopCamera() {\n    try {\n      console.log(\"stopping camera\");\n      await this.cameraPreview.stopCamera();\n    } catch (err) {\n      console.error(\"stop camera error. Err: \", err);\n    } finally {\n    }\n  }\n\n  takePicture() {\n    let base64option: Base64ToGalleryOptions = {\n      prefix: 'img',\n      mediaScanner: false\n    };\n\n    this.cameraPreview.takePicture({\n      width: 1280,\n      height: 1280,\n      quality: 100,\n    }).then(async (imageData: string) => {\n      let b64data = atob(imageData);\n      this.IMAGE_PATH = 'data:image/jpeg;base64,' + imageData;\n      //this.addImage(this.b64toBlob(imageData));\n      this.startAR = true;\n      this.addImage(imageData);\n      //this.active = true;\n      this.base64ToGallery.base64ToGallery(btoa(b64data), { prefix: '_img', mediaScanner: true }).then(\n        res => console.log(\"Saved Success\", res),\n        err => console.log(\"Error saving image to gallery \", err)\n      );\n    }, (err) => {\n      console.log(err);\n      this.IMAGE_PATH = 'assets/img/test.jpg';\n    });\n  }\n\n  show() {\n    return this.cameraPreview.show();\n  }\n\n\n  async hide() {\n    return this.cameraPreview.hide();\n  }\n\n  async changeColorEffect() {\n    this.cameraPreview.setColorEffect(this.colorEffect);\n  }\n\n  async changeZoom() {\n    this.cameraPreview.setZoom(this.setZoom);\n  }\n\n  async changeFlashMode() {\n    this.cameraPreview.setFlashMode(this.flashMode);\n  }\n\n  async changeFocusMode() {\n    this.cameraPreview.setFocusMode(this.focusMode);\n  }\n\n  fileOverBase(event): void {\n    this.hasBaseDropZoneOver = event;\n  }\n\n  getFiles(): FileLikeObject[] {\n    return this.fileUploader.queue.map((fileItem) => {\n      return fileItem.file;\n    });\n  }\n\n  addImage(res){\n    const b64toBlob = (b64Data, contentType='', sliceSize=512) => {\n      const byteCharacters = atob(b64Data);\n      const byteArrays = [];\n      for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        const slice = byteCharacters.slice(offset, offset + sliceSize);\n        const byteNumbers = new Array(slice.length);\n        for (let i = 0; i < slice.length; i++) {\n          byteNumbers[i] = slice.charCodeAt(i);\n        }\n        const byteArray = new Uint8Array(byteNumbers);\n        byteArrays.push(byteArray);\n      }\n      const blob = new Blob(byteArrays, {type: contentType});\n      return blob;\n    }\n    \n    const contentType = 'image/png';\n    const b64Data = res;\n    \n    const blob = b64toBlob(b64Data, contentType);\n    //const blobUrl = URL.createObjectURL(blob);\n    this.uploadImage(blob)\n    //const img = document.createElement('img');\n    //img.src = blobUrl;\n    //document.body.appendChild(img);\n  }\n\n  uploadImage(res){\n    this.putWait();\n    //var blob = new Blob([res], { type: 'image/jpg' });         \n    let requests = [];\n    let fileName=\"melorigin.jpg\";         \n    let formData = new FormData();\n    formData.append('file' , res, \"melorigin.jpg\");\n    requests.push(this.uploadingService.uploadFormData(formData));\n    concat(...requests).subscribe(\n      (res) => {\n        console.log(res);\n        this.shot = true;\n        this.active = true;\n        this.isNevus();\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n\n  isNevus() {\n    let items = [];\n    items.push(this.apiDjangoService.isNevus());\n    concat(...items).subscribe(\n      (res) => {\n        console.log(res);\n        if(res == \"si\"){\n          this.getBorder();\n        }else{\n          this.getError(\"Non trovato\")\n          this.reset(event);\n          this.reshot();\n        }\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n\n  getAsymmetry() {\n    let items = [];\n    items.push(this.apiDjangoService.getAsymmetry());\n    concat(...items).subscribe(\n      (res) => {\n        console.log(res);\n        this.asymmetry = \"\" +res;\n        this.img_photometric = this.ipAddress + \"/media/photometric.png\" + \"?\" + (Math.random() * 3);\n        const info = + this.asymmetry;\n        if (info > 10){\n            this.symmetricInfo = \"Simmetrico\"\n        }\n        if(info <= 9){\n          this.symmetricInfo = \"Leggermente Asimmetrico\"\n        }\n        if(info < 5){\n          this.symmetricInfo = \"Asimmetrico\"\n        }\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n\n  getBorder() {\n    let items = [];\n    items.push(this.apiDjangoService.getBorder());\n    concat(...items).subscribe(\n      (res) => {\n        console.log(res);\n        this.classified = \"\" +res;\n        this.img_border1 = this.ipAddress + \"/media/border.png\" + \"?\" + (Math.random() * 3);\n        //this.uploadLoading();\n        this.getAsymmetry();\n        this.getColor();\n        this.getCentroid();\n        this.getDiameter();\n        this.presentLoading();    \n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n\n  getColor() {\n    let items = [];\n    items.push(this.apiDjangoService.getColor());\n    concat(...items).subscribe(\n      (res) => {\n        console.log(res);\n        const result = \"\" +res;\n        this.img_color = this.ipAddress + \"/media/color.png\" + \"?\" + (Math.random() * 3);\n        this.color = + result;\n        this.putWait();\n        this.reshot();\n        if (this.color > 15){\n          //this.getError(\"Riconoscimento Errato\");\n        }\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n\n  getCentroid() {\n    let items = [];\n    items.push(this.apiDjangoService.getCentroid());\n    concat(...items).subscribe(\n      (res) => {\n        console.log(res);\n        this.centroid = \"\" +res;\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n\n  getDiameter() {\n    let items = [];\n    items.push(this.apiDjangoService.getDiameter(this.setZoom));\n    concat(...items).subscribe(\n      (res) => {\n        console.log(res);\n        this.diameter = \"\" +res;\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n\n  async presentLoading() {\n    await delay(2000);\n    console.log('Loading dismissed!');\n    this.changePlaying();\n  }\n\n  async putWait() {\n    await delay(400);\n    console.log('Loading dismissed!');\n  }\n\n  async getError(code) {\n\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Errore del Sistema. Code: ' + code ,\n      duration: 3000\n    });\n    await loading.present();\n    this.reset(event);\n\n    const { role, data } = await loading.onDidDismiss();\n    console.log('Loading dismissed!');\n  }\n  \n  async reshot() {\n    await delay(2000);\n    this.reset(event);\n    this.takePicture();\n    console.log('Loading dismissed!');\n  }\n\n  changePlaying() {\n    this.ngZone.run(() => {\n      this.shot = true;\n      this.active = true;\n    });\n  }\n\n  reset(event){\n    this.ngZone.run(() => {\n      let requests = [];\n      this.img_color = 'assets/colorful.gif';\n      this.img_photometric = 'assets/color.gif';\n      this.img_border1 = 'assets/loading.gif';\n      /*\n      this.color = 0;\n      this.classified = \"\";\n      this.asymmetry = \"\";\n      this.centroid = \"\";\n      */\n    this.platform.resume.subscribe(() => {\n      location.reload();\n    });\n    requests.push(this.apiDjangoService.clearPic());\n    concat(...requests).subscribe(\n      (res) => {\n        console.log(res);\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  });\n  }\n\n  openImage(path){\n    this.photoViewer.show(path + \"?\" + (Math.random() * 3));\n  }\n\n  async saveScreenshot() {\n    this.activescreenshot = true;\n    this.screenshot.save('jpg', 80, 'myscreenshot.jpg').then(() =>{\n      alert(\"Screenshot Salvato!\");\n    });\n    this.activescreenshot = false;\n  }\n\n  clearAll(){\n    let requests = [];\n    requests.push(this.apiDjangoService.clearPic());\n    concat(...requests).subscribe(\n      (res) => {\n        console.log(res);\n      },\n      (err) => {  \n        console.log(err);\n\n      }\n    );\n  }\n\n  getInfo(){\n\n  }\n\n\n  async switchOff(){\n    this.startAR = false;\n    this.active = true;\n    alert(\"AR OFF!\");\n  }\n}"]}