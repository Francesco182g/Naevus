{"version":3,"sources":["webpack:///src/app/tab2/tab2.page.html","webpack:///src/app/tab2/tab2-routing.module.ts","webpack:///src/app/tab2/tab2.module.ts","webpack:///src/app/tab2/tab2.page.scss","webpack:///src/app/tab2/tab2.page.ts"],"names":["routes","path","component","Tab2PageRoutingModule","imports","forChild","exports","Tab2PageModule","declarations","Tab2Page","cameraPreview","platform","storage","uploadingService","http","apiDjangoService","base64ToGallery","file","ngZone","loadingController","fileUploader","hasBaseDropZoneOver","fileToUpload","colorEffect","setZoom","flashMode","focusMode","shot","console","log","startCameraAbove","stopCamera","ready","startCamera","x","y","width","height","toBack","camera","previewDrag","tapPhoto","error","base64option","prefix","mediaScanner","takePicture","quality","then","imageData","b64data","atob","IMAGE_PATH","addImage","getBorder","getColor","getAsymmetry","btoa","res","err","presentLoading","show","hide","setColorEffect","setFlashMode","setFocusMode","event","queue","map","fileItem","b64toBlob","b64Data","contentType","sliceSize","byteCharacters","byteArrays","offset","length","slice","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","push","blob","Blob","type","uploadImage","requests","fileName","formData","FormData","append","uploadFormData","subscribe","items","asymmetry","border","color","getClassified","classified","create","cssClass","message","duration","loading","present","onDidDismiss","role","data","changePlaying","run","nameOfSource","img_color","img_photometric","selector","template"],"mappings":"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","file":"tab2-tab2-module-es5.js","sourcesContent":["export default \"  <ion-header >\\n    <ion-segment *ngIf=\\\"shot==false\\\" placeholder=\\\"Select Flash\\\" [(ngModel)]=\\\"flashMode\\\"\\n    (ionChange)=\\\"changeFlashMode()\\\">\\n    <ion-segment-button value=\\\"off\\\">\\n      <ion-icon color=\\\"danger\\\" name=\\\"flash-off\\\"></ion-icon>\\n      <ion-label color=\\\"danger\\\" >Off</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"torch\\\">\\n      <ion-icon color=\\\"secondary\\\" name=\\\"flash\\\"></ion-icon>\\n      <ion-label color=\\\"secondary\\\">On</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n  <img *ngIf=\\\"shot==true\\\" [src]=\\\"this.img_color\\\">\\n<!--\\n      <ion-segment placeholder=\\\"Select Focus\\\" [(ngModel)]=\\\"focusMode\\\"\\n      (ionChange)=\\\"changeFocusMode()\\\">\\n        <ion-segment-button value=\\\"auto\\\">\\n          <ion-icon name=\\\"disc\\\"></ion-icon>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"fixed\\\">\\n          <ion-icon name=\\\"aperture\\\"></ion-icon>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"infinity\\\">\\n          <ion-icon name=\\\"infinite\\\"></ion-icon>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"macro\\\">\\n          <ion-icon name=\\\"search\\\"></ion-icon>\\n        </ion-segment-button>\\n      </ion-segment>\\n-->\\n\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\" >\\n\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n      </ion-col>\\n      <ion-col >\\n        <ion-fab-button>{{this.classified}}</ion-fab-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n        <ion-button>{{this.asymmetry}}</ion-button>\\n      </ion-col>\\n      <ion-col>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col >\\n        <ion-button color=\\\"light\\\">Nevus Color</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n        <img [src]=\\\"this.img_photometric\\\">\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col >\\n                <!--<div>elemento</div>-->\\n\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n        <ion-button>Il Diametro</ion-button>\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col >\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n        <ion-button>cazzo!</ion-button>\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n        Color:\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\">\\n    <ion-row>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n      <ion-col>\\n      </ion-col>\\n      <ion-col>\\n        <!--<div>elemento</div>-->\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <ion-avatar vertical=\\\"center\\\" horizontal=\\\"center\\\">\\n    <img src=\\\"assets/circle.png\\\">\\n  </ion-avatar>\\n\\n\\n \\n  \\n</ion-content>\\n<ion-footer>\\n  <ion-range *ngIf=\\\"shot==false\\\" min=\\\"1\\\" max=\\\"100\\\" pin color=\\\"primary\\\" [(ngModel)]=\\\"setZoom\\\" (ionChange)=\\\"changeZoom()\\\">\\n    <ion-icon color=\\\"primary\\\" slot=\\\"start\\\" size=\\\"small\\\" name=\\\"search-outline\\\"></ion-icon>\\n    <ion-icon slot=\\\"end\\\" name=\\\"search-outline\\\"></ion-icon>\\n  </ion-range>\\n  \\n  <ion-button *ngIf=\\\"shot==false\\\" expand=\\\"block\\\" color=\\\"primary\\\"(click)=\\\"takePicture()\\\">\\n    <ion-icon  size=\\\"big\\\" name=\\\"camera-outline\\\"></ion-icon>\\n  </ion-button>\\n\\n  <ion-grid *ngIf=\\\"shot==true\\\" >\\n    <ion-row>\\n      <ion-col>\\n        <ion-button expand=\\\"block\\\" color=\\\"success\\\"(click)=\\\"takePicture()\\\">\\n          <ion-icon  size=\\\"big\\\" name=\\\"camera-outline\\\"></ion-icon>\\n        </ion-button>      \\n      </ion-col>\\n      <ion-col>\\n        <ion-button expand=\\\"block\\\" color=\\\"danger\\\"(click)=\\\"takePicture()\\\">\\n          <ion-icon  size=\\\"big\\\" name=\\\"camera-outline\\\"></ion-icon>\\n        </ion-button>      \\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-footer>\\n<!--\\n<!--\\n<ion-row *ngIf=\\\"IMAGE_PATH\\\">\\n  <ion-col>\\n    <img [src]=\\\"IMAGE_PATH\\\">\\n  </ion-col>\\n</ion-row>\\n-->\\n\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\nimport { FileUploadModule } from 'ng2-file-upload';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule,\n    FileUploadModule,\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","export default \"ion-content {\\n  --background: transparent;\\n}\\n\\nion-avatar {\\n  width: 170px !important;\\n  height: 170px !important;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n\\nion-col > div {\\n  background-color: #f7f7f7;\\n  border: solid 1px #ddd;\\n  padding: 10px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3VzZXJ0aGluay9TY3JpdmFuaWEvVGhlc2lzL0lvbmljL05hZXZ1cyBCRVRBL3NyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyIsInNyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUFhO0FDQ2pCOztBREVFO0VBQ0UsdUJBQXVCO0VBQ3ZCLHdCQUF3QjtFQUN4QixrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLFNBQVM7RUFDVCxnQ0FBZ0M7QUNDcEM7O0FERUU7RUFDRSx5QkFBeUI7RUFDekIsc0JBQXNCO0VBQ3RCLGFBQWE7QUNDakIiLCJmaWxlIjoic3JjL2FwcC90YWIyL3RhYjIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICAgIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIH1cbiAgXG4gIGlvbi1hdmF0YXIge1xuICAgIHdpZHRoOiAxNzBweCAhaW1wb3J0YW50O1xuICAgIGhlaWdodDogMTcwcHggIWltcG9ydGFudDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiA1MCU7XG4gICAgbGVmdDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICB9XG5cbiAgaW9uLWNvbCA+IGRpdiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmNztcbiAgICBib3JkZXI6IHNvbGlkIDFweCAjZGRkO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gIH1cbiIsImlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuaW9uLWF2YXRhciB7XG4gIHdpZHRoOiAxNzBweCAhaW1wb3J0YW50O1xuICBoZWlnaHQ6IDE3MHB4ICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA1MCU7XG4gIGxlZnQ6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG59XG5cbmlvbi1jb2wgPiBkaXYge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xuICBib3JkZXI6IHNvbGlkIDFweCAjZGRkO1xuICBwYWRkaW5nOiAxMHB4O1xufVxuIl19 */\";","import { Component, OnInit, NgZone } from '@angular/core';\nimport { CameraPreview } from \"@ionic-native/camera-preview/ngx\";\nimport { Platform } from \"@ionic/angular\";\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n//Upload and Analysis import\nimport { UploadingService } from '../uploading.service';\nimport { ApiDjangoService } from '../api-django.service';\nimport { FileUploader, FileLikeObject } from 'ng2-file-upload';\nimport { concat } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { File } from '@ionic-native/file/ngx';\nimport { Base64ToGallery, Base64ToGalleryOptions } from '@ionic-native/base64-to-gallery/ngx';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n  //UPLOAD CODE  \n  public fileUploader: FileUploader = new FileUploader({});\n  public hasBaseDropZoneOver: boolean = false;\n  nameOfSource: any;\n  fileToUpload: File = null;\n  blob: any;\n\n\n  IMAGE_PATH: any;\n  colorEffect = 'none';\n  smallPreview: boolean;\n  setZoom = 1;\n  flashMode = 'off';\n  focusMode = 'auto';\n  tapFocus: false;\n\n  shot = false;\n\n  //Nevus Information\n  //circle = 1;\n  asymmetry: string;\n  border: string;\n  color: string;\n  classified: string;\n  img_color: string;\n  img_photometric: string;\n  img_border1: string;\n\n\n\n  constructor(private cameraPreview: CameraPreview,\n    private platform: Platform, private storage: NativeStorage,\n    private uploadingService: UploadingService, private http: HttpClient,\n    private apiDjangoService: ApiDjangoService,\n    private base64ToGallery: Base64ToGallery,\n     private file: File, private ngZone: NgZone,\n     public loadingController: LoadingController) {\n  }\n\n  async ionViewWillEnter() {\n    console.log(\"WILL ENTER: \");\n\n    await this.startCameraAbove();\n  }\n\n  async ionViewWillLeave() {\n    console.log(\"WILL LEAVE\");\n\n    await this.stopCamera();\n  }\n\n  async startCameraAbove() {\n    try {\n\n      await this.platform.ready();\n      await this.cameraPreview.startCamera({\n        x: 0,\n        y: 0,\n        width: this.platform.width(),\n        height: this.platform.height(),\n        toBack: true,\n        camera: \"rear\",\n        previewDrag: false,\n        tapPhoto: true\n      });\n    } catch (err) {\n      console.error(\"startCameraAbove\", err);\n    } finally {\n    }\n  }\n\n  async stopCamera() {\n    try {\n      console.log(\"stopping camera\");\n      await this.cameraPreview.stopCamera();\n    } catch (err) {\n      console.error(\"stop camera error. Err: \", err);\n    } finally {\n    }\n  }\n\n  takePicture() {\n    let base64option: Base64ToGalleryOptions = {\n      prefix: 'img',\n      mediaScanner: false\n    };\n\n    this.cameraPreview.takePicture({\n      width: 1280,\n      height: 1280,\n      quality: 100,\n    }).then(async (imageData: string) => {\n      let b64data = atob(imageData);\n      this.IMAGE_PATH = 'data:image/jpeg;base64,' + imageData;\n      //this.addImage(this.b64toBlob(imageData));\n      this.addImage(imageData);\n      this.getBorder();\n      this.getColor();\n      this.getAsymmetry();\n      this.base64ToGallery.base64ToGallery(btoa(b64data), { prefix: '_img', mediaScanner: true }).then(\n        res => console.log(\"Saved Success\", res),\n        err => console.log(\"Error saving image to gallery \", err)\n      );\n    }, (err) => {\n      console.log(err);\n      this.IMAGE_PATH = 'assets/img/test.jpg';\n    });\n    this.presentLoading();\n  }\n\n  show() {\n    return this.cameraPreview.show();\n  }\n\n\n  async hide() {\n    return this.cameraPreview.hide();\n  }\n\n  async changeColorEffect() {\n    this.cameraPreview.setColorEffect(this.colorEffect);\n  }\n\n  async changeZoom() {\n    this.cameraPreview.setZoom(this.setZoom);\n  }\n\n  async changeFlashMode() {\n    this.cameraPreview.setFlashMode(this.flashMode);\n  }\n\n  async changeFocusMode() {\n    this.cameraPreview.setFocusMode(this.focusMode);\n  }\n\n  fileOverBase(event): void {\n    this.hasBaseDropZoneOver = event;\n  }\n  getFiles(): FileLikeObject[] {\n    return this.fileUploader.queue.map((fileItem) => {\n      return fileItem.file;\n    });\n  }\n\n  addImage(res){\n    const b64toBlob = (b64Data, contentType='', sliceSize=512) => {\n      const byteCharacters = atob(b64Data);\n      const byteArrays = [];\n    \n      for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        const slice = byteCharacters.slice(offset, offset + sliceSize);\n    \n        const byteNumbers = new Array(slice.length);\n        for (let i = 0; i < slice.length; i++) {\n          byteNumbers[i] = slice.charCodeAt(i);\n        }\n    \n        const byteArray = new Uint8Array(byteNumbers);\n        byteArrays.push(byteArray);\n      }\n    \n      const blob = new Blob(byteArrays, {type: contentType});\n      return blob;\n    }\n    \n    const contentType = 'image/png';\n    const b64Data = res;\n    \n    const blob = b64toBlob(b64Data, contentType);\n    //const blobUrl = URL.createObjectURL(blob);\n    this.uploadImage(blob)\n    //const img = document.createElement('img');\n    //img.src = blobUrl;\n    //document.body.appendChild(img);\n  }\n\n  uploadImage(res){\n    //var blob = new Blob([res], { type: 'image/jpg' });         \n    let requests = [];\n    let fileName=\"melorigin.jpg\";         \n    let formData = new FormData();\n    formData.append('file' , res, \"melorigin.jpg\");\n    requests.push(this.uploadingService.uploadFormData(formData));\n    concat(...requests).subscribe(\n      (res) => {\n        console.log(res);\n        //this.classificatore = \" \" +res + \" %\";\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n  \n  getAsymmetry() {\n    let items = [];\n    items.push(this.apiDjangoService.getAsymmetry());\n    concat(...items).subscribe(\n      (res) => {\n        console.log(res);\n        this.asymmetry = \"\" +res;\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n\n  getBorder() {\n    let items = [];\n    items.push(this.apiDjangoService.getBorder());\n    concat(...items).subscribe(\n      (res) => {\n        console.log(res);\n        this.border = \"\" +res;\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n\n  getColor() {\n    let items = [];\n    items.push(this.apiDjangoService.getColor());\n    concat(...items).subscribe(\n      (res) => {\n        console.log(res);\n        this.color = \"\" +res;\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n\n  getClassified() {\n    let items = [];\n    items.push(this.apiDjangoService.getClassified());\n    concat(...items).subscribe(\n      (res) => {\n        console.log(res);\n        this.classified = \"\" +res;\n      },\n      (err) => {  \n        console.log(err);\n      }\n    );\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Please wait...',\n      duration: 6000\n    });\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n    console.log('Loading dismissed!');\n    this.changePlaying();\n  }\n\n  changePlaying() {\n    this.ngZone.run(() => {\n      this.nameOfSource = \"http://192.168.1.2:8000/media/melar.jpg\";\n      this.img_color = \"http://192.168.1.2:8000/media/color.jpg\";\n      this.img_photometric = \"http://192.168.1.2:8000/media/color.jpg\";\n      this.shot = true;\n    });\n  }\n\n\n\n}"]}